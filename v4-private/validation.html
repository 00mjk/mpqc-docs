<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!-- For Mobile Devices -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
        <meta name="generator" content="Doxygen 1.8.20"/>
        <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <title>MPQC: Maintaining and extending the validation suite</title>
        <!--<link href="tabs.css" rel="stylesheet" type="text/css"/>-->
        <script type="text/javascript" src="dynsections.js"></script>
        <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
        <link href="doxygen.css" rel="stylesheet" type="text/css" />
        <link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
        <link href='https://fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
        <link href="jquery.smartmenus.bootstrap.css" rel="stylesheet">
        <script type="text/javascript" src="jquery.smartmenus.js"></script>
        <!-- SmartMenus jQuery Bootstrap Addon -->
        <script type="text/javascript" src="jquery.smartmenus.bootstrap.js"></script>
        <!-- SmartMenus jQuery plugin -->
    </head>
    <body>
        <nav class="navbar navbar-default" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <a class="navbar-brand">MPQC 4.0.0-beta.1</a>
                </div>
            </div>
        </nav>
        <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
            <div class="content" id="content">
                <div class="container">
                    <div class="row">
                        <div class="col-sm-12 panel " style="padding-bottom: 15px;">
                            <div style="margin-bottom: 15px;">
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Overview</span></a></li>
      <li><a href="intro.html"><span>Introduction</span></a></li>
      <li><a href="userguide.html"><span>User&#160;Guide</span></a></li>
      <li><a href="usergroup0.html"><span>Programmer&#160;Guides</span></a></li>
      <li><a href="usergroup1.html"><span>Source&#160;Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Maintaining and extending the validation suite </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Every new feature requires one or more validation tests to be accepted into MPQC. This helps to detect logic regressions and to maintain the feature as the code evolves. If there is no validation test then the feature is likely to become nonfunctional; features that are not tested regularly effectively do not exist.</p>
<h1><a class="anchor" id="validation-suite-architecture"></a>
The architecture of the validation test suite</h1>
<ul>
<li>The validation suite is contained in <code>tests/validation</code>, with the the test inputs and outputs located under <code>tests/validation/reference/inputs</code> and <code>tests/validation/reference/outputs</code>, respectively.</li>
<li>The test suite is set up in <code>tests/validation/CMakeLists.txt</code>; e.g. this file filters tests to be run based on the configuration of the MPQC executable (see <code>MPQC_FEATURES</code> CMake variable). Note that to be able to do this the test names must follow particular patterns defined in this file. You will need to modify this file if you added a new major MPQC feature (i.e. it has its own library).</li>
<li>Excluded tests are listed in <code>tests/validation/CTestCustom.cmake</code>; you should not need to modify this file.</li>
<li>Test runner is defined in <code>tests/validation/test.cmake</code>; this is a CMake script that runs the tests, invokes the validator (see next), and signals the result to the user. You should not need to modify this file.</li>
<li>Validator is defined in <code>tests/validation/check.py</code>. You will need to modify this file if you add a test whose target property is not one of the currently supported properties.</li>
</ul>
<p>The following targets execute validation tests:</p><ul>
<li><code>check_validation</code> runs short-duration (see below) validation tests only; this is the target invoked by the top-level target <code>check</code>.</li>
<li><code>check_validation_full</code> runs all validation tests</li>
<li><code>check_validation_long</code> runs long-duration validation tests only</li>
</ul>
<h1><a class="anchor" id="validation-guidelines"></a>
Guidelines for constructing validation tests</h1>
<ul>
<li>Most validation tests should have <em>short duration</em>, e.g. a second or two. Most validation tests should belong to this category.</li>
<li>In practice this may not be possible to make all tests have short duration. e.g. computations on 3-d solids even in a minimal basis are likely to exceed this limit. To indicate that a particular validation test is long-duration add <code>LongTest</code> to its name. E.g., CCSDT cc-pVQZ calculation on water should be named <code>h2o-ccpvqz-ccsdt-LongTest.json</code>.</li>
<li>Reference outputs for each test should be evaluated with <em>higher</em> precision than the target precision. E.g. if the test will expect energy precise to 1e-9 the reference energy should be computed to 1e-10 or ever tighter, to ensure that the deviations from the reference energy of 1e-9 are meaningful. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->

<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</div>
</div>
</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>
    Generated at Fri Feb 12 2021 13:12:41 for <a href="http://www.mpqc.org">MPQC</a>
    4.0.0-beta.1 by &#160;<a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.20
</small></address>
</body>
<script type="text/javascript" src="doxy-boot.js"></script>
</html>
