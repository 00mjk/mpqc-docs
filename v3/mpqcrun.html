<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MPQC: $title</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MPQC
   &#160;<span id="projectnumber">3.0.0-alpha</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('mpqcrun.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="contents">
<div class="textblock"><p>The mpqcrun program simplifies running MPQC.</p>
<h1>Description</h1>
<p>The mpqcrun program simplifies the task of running MPQC on multiple input files. Although it was primarily designed to run the validation suite, mpqcrun, is general enough to be useful in other situations. If multiple nodes or processors are present, it can be used to manage multiple invocations of MPQC.</p>
<h1>Running mpqcrun</h1>
<p>mpqcrun takes the following command line options:</p>
<dl>
<dt><code>&ndash;mpqc</code> path</dt>
<dd>The mpqc executable to use. </dd>
<dt><code>&ndash;objdir</code></dt>
<dd>Run the mpqc executable in the compile directory, rather than the install directory. </dd>
<dt><code>&ndash;small</code></dt>
<dd>Skip big runs in verification suite. </dd>
<dt><code>&ndash;nnodeperjob</code> n</dt>
<dd>Run with n nodes per job. If this is <code>nnode</code>, use all available nodes. </dd>
<dt><code>&ndash;nprocpernode</code> n</dt>
<dd>Run with n processes per node. </dd>
<dt><code>&ndash;nprocperjob</code> n</dt>
<dd>Run with n processes per job. The default is to use all available processors. </dd>
<dt><code>&ndash;nthreadperproc</code> n</dt>
<dd>Use n threads per process. </dd>
<dt><code>&ndash;threadgrp</code> grp</dt>
<dd>Use the given threading layer. <dl>
<dt>grp=<code>none</code></dt>
<dd>Use MPQC's default. </dd>
<dt>grp=<code>proc</code></dt>
<dd>Do a single threaded run. </dd>
<dt>grp=<code>posix</code></dt>
<dd>Use POSIX threads. </dd>
</dl>
</dd>
<dt><code>&ndash;messagegrp</code> grp</dt>
<dd>Use the given communication layer. <dl>
<dt>grp=<code>none</code></dt>
<dd>Use MPQC's default. </dd>
<dt>grp=<code>proc</code></dt>
<dd>Does a single processor run. </dd>
<dt>grp=<code>mpi</code></dt>
<dd>Use MPI. </dd>
</dl>
</dd>
<dt><code>&ndash;memorygrp</code> grp</dt>
<dd>Use the given remote memory communication layer. <dl>
<dt>grp=<code>none</code></dt>
<dd>Use MPQC's default. </dd>
<dt>grp=<code>proc</code></dt>
<dd>Does a single processor run. </dd>
<dt>grp=<code>mtmpi</code></dt>
<dd>Use multi-threaded MPI. </dd>
<dt>grp=<code>armci</code></dt>
<dd>Use ARMCI. </dd>
</dl>
</dd>
<dt><code>&ndash;memorysize</code> s</dt>
<dd>Use at most the specified amount of memory. Examples of valid values: 0 (=unlimited), 32000000, 32000KB 32MB, 0.032GB, 0.000032TB. The default is to assume an unlimited amount of memory. </dd>
<dt><code>&ndash;diskpath</code> s</dt>
<dd>The location for temporary high-speed storage. Directory name should end in "/", for example: &ndash;diskpath="/scratch/evaleev/". By default temporary files will be written to the current working directory, i.e. ./ . </dd>
<dt><code>&ndash;disksize</code> s</dt>
<dd>Use at most the specified amount of disk storage. See also <code>&ndash;memorysize</code>. The default is to assume an unlimited amount ofdisk storage. </dd>
<dt><code>&ndash;launch</code> cmd</dt>
<dd>Use the given command to launch jobs. See below. </dd>
<dt><code>&ndash;nodefile</code> file</dt>
<dd>Specifies a file listing nodes to use. Duplicated nodes are removed. </dd>
<dt><code>&ndash;nodes</code> nodes</dt>
<dd>Specifies list of machines to use. A range of nodes can be given with two integers separated by a dash. Groups of nodes can be separated by a comma. </dd>
<dt><code>&ndash;nodename</code> fmt</dt>
<dd>This is a format string that converts the node number to its name. </dd>
<dt><code>&ndash;seq</code> regex</dt>
<dd>Run inputs matching reqex sequentially. This is useful when one input requires that another be run first, and more than one job is run at a time. </dd>
<dt><code>&ndash;exclude</code> regex</dt>
<dd>Exclude files matching regex. </dd>
<dt><code>&ndash;readdir</code> dir</dt>
<dd>Run mpqc on all files matching dir/*.in. </dd>
<dt><code>&ndash;inputprefix</code> prefix</dt>
<dd>Prepend prefix to all input file names. </dd>
<dt><code>&ndash;outputprefix</code> prefix</dt>
<dd>Prepend prefix to all output file names. </dd>
<dt><code>&ndash;count</code></dt>
<dd>Print the number of input files that would be run. </dd>
<dt><code>&ndash;printfiles</code></dt>
<dd>Print the list of input files that would be run. </dd>
<dt><code>&ndash;rerun</code></dt>
<dd>Overwrite output file, even if up-to-date. </dd>
<dt><code>&ndash;onlynew</code></dt>
<dd>Do not overwrite output file, even if not up-to-date. </dd>
<dt><code>&ndash;simpout</code></dt>
<dd>Do not append extra info like nnode to filename. </dd>
<dt><code>&ndash;uniqout</code></dt>
<dd>Generate unique output filenames. </dd>
<dt><code>&ndash;autoout</code></dt>
<dd>Generate output filenames by replacing the suffix with "out". </dd>
<dt><code>&ndash;verbose</code></dt>
<dd>Print out what action is to be taken on each file. </dd>
<dt><code>&ndash;debug</code></dt>
<dd>Don't actually run mpqc. </dd>
<dt><code>&ndash;help</code></dt>
<dd><p class="startdd">Print the documentation.</p>
<p class="enddd"></p>
</dd>
</dl>
<p>The cmd given with the <code>&ndash;launch</code> option can contain special strings that will be substituted: </p><dl>
<dt><code>%MPQCRUNPROC%</code></dt>
<dd>Script to runs MPQC with the environment set up correctly. </dd>
<dt><code>%INPUT%</code></dt>
<dd>The input filename. </dd>
<dt><code>%OUTPUT%</code></dt>
<dd>The output filename. </dd>
<dt><code>%NPROC%</code></dt>
<dd>The number of processes to start. </dd>
<dt><code>%NODEFILE%</code></dt>
<dd>The name of a file containing the node names. </dd>
<dt><code>%CONFIGFILE%</code></dt>
<dd>The name of a file having lines of the form: node: command. </dd>
<dt><code>%IFHNFILE%</code></dt>
<dd>The name of a file having lines of the form: node ifhn=value. </dd>
<dt><code>%NODELIST%</code></dt>
<dd>A comma separated list of node names. </dd>
<dt><code>%MPQC%</code></dt>
<dd>The MPQC executable. </dd>
</dl>
<p>For these last two, if they are contained within square brackets and a substitution is not available, then everything within the the brackets is removed.</p>
<p>This argument will launch MPI jobs giving mpirun a nodefile. </p><pre>
  --launch "mpirun [-hf %NODEFILE%] -n %NPROC% %MPQC% -o %OUTPUT% %INPUT%"
</pre><p>This argument will launch MPI jobs giving mpirun list of hosts on the command line. </p><pre>
  --launch "mpirun [-H %NODELIST%] -n %NPROC% %MPQC% -o %OUTPUT% %INPUT%"
</pre><h1>License</h1>
<p>mpqcrun is open-source software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.</p>
<h1>Warranty</h1>
<p>mpqcrun is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<hr>
<address>
<small>
Generated at Sun Jan 26 2020 23:24:02 for <a
href="http://www.mpqc.org">MPQC</a>
3.0.0-alpha using the documentation package <a
href="http://www.doxygen.org">Doxygen</a>
1.8.16.
</small>
</address>
</body>
</html>
